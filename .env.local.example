# Interior AI Design Generator - Environment Variables
# Copy this file to .env.local and update values for your environment

# ====================
# APPLICATION URL (REQUIRED)
# ====================
# The public URL where your application is accessible
# This is used for webhooks, OAuth callbacks, and other external integrations
#
# Development: Use ngrok URL (e.g., https://abc123.ngrok.io)
#   1. Install ngrok: npm install -g ngrok
#   2. Run: ngrok http 3000
#   3. Copy HTTPS URL from ngrok output
#
# Staging: Use your staging domain (e.g., https://staging.interior-ai.com)
# Production: Use your production domain (e.g., https://interior-ai.com)
NEXT_PUBLIC_APP_URL=https://your-url-here.ngrok.io

# ====================
# SUPABASE (REQUIRED)
# ====================
# Get these from your Supabase project dashboard
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ====================
# REPLICATE (REQUIRED)
# ====================
# Get your API token from https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_your_api_token_here

# ====================
# OPENAI (REQUIRED for gpt-image-1 model)
# ====================
# Get your API key from: https://platform.openai.com/api-keys
# Your OpenAI account will be charged for image generation usage
# Note: You need BOTH Replicate API token AND OpenAI API key for generation to work
OPENAI_API_KEY=sk-your-openai-api-key-here

# ====================
# STRIPE (REQUIRED FOR BILLING)
# ====================
# Get these from your Stripe dashboard
STRIPE_SECRET_KEY=sk_test_your_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ====================
# SECURITY
# ====================
# Generate a random string for webhook verification
WEBHOOK_SECRET=your-random-webhook-secret

# ====================
# OPTIONAL - ERROR TRACKING
# ====================
# Uncomment and set if you want error tracking
# SENTRY_DSN=https://your-sentry-dsn

# ====================
# OPTIONAL - ANALYTICS
# ====================
# Uncomment and set if you want analytics tracking
# ANALYTICS_API_KEY=your-analytics-key

# ====================
# DEVELOPMENT NOTES
# ====================
# For local development with generation features:
# 1. You MUST set NEXT_PUBLIC_APP_URL to a publicly accessible HTTPS URL
# 2. Use ngrok to create a tunnel: ngrok http 3000
# 3. Copy the HTTPS URL (not HTTP) to NEXT_PUBLIC_APP_URL
# 4. Restart your development server after changing environment variables
#
# Without a proper HTTPS URL, image generation will fail with webhook errors.
#
# IMPORTANT: Image generation requires TWO API keys:
# 1. REPLICATE_API_TOKEN - for Replicate platform access
# 2. OPENAI_API_KEY - for the gpt-image-1 model (you'll be charged by OpenAI)
# Both are required for generation to work.